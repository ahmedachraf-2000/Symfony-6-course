{% extends 'base.html.twig' %}

{% block title %}
	{{ post.title }}
	· MyBlog
{% endblock %}

{% block header %}
	<header class="border-b border-zinc-100 bg-gradient-to-b from-zinc-50 to-white">
		<div
			class="max-w-4xl mx-auto px-6 md:px-10 lg:px-0 py-12">

			<!-- Breadcrumb -->
			<nav aria-label="Breadcrumb" class="flex items-center gap-2 text-sm text-zinc-500 mb-4">
				<a href="{{ path('blog_index') }}" class="flex items-center font-medium text-zinc-600 hover:text-blue-600 transition-colors">
					<span class="inline-block w-1.5 h-1.5 rounded-full bg-blue-600 mr-2 shadow-[0_0_8px_rgba(37,99,235,0.7)]"></span>
					All posts
				</a>
				<span class="text-zinc-400 select-none">/</span>
				<span class="text-zinc-800 font-semibold line-clamp-1">{{ post.title }}</span>
			</nav>

			<!-- Category badge -->
			<div class="inline-flex items-center gap-2 text-xs font-semibold text-blue-700 bg-blue-50 px-3 py-1.5 rounded-full border border-blue-100 shadow-sm mb-3">
				<span class="inline-block w-2 h-2 rounded-full bg-blue-600 animate-pulse"></span>
				<span>Developer Insights</span>
			</div>

			<!-- Title -->
			<h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-zinc-900 leading-tight mb-3">
				{{ post.title }}
			</h1>

			<!-- Post meta -->
			<div class="flex flex-wrap items-center gap-3 text-sm text-zinc-500">
				<div class="flex items-center gap-2">
					<time datetime="{{ post.publishedAt ? post.publishedAt|date('c') : '' }}" class="font-medium text-zinc-700">
						{{ post.publishedAt ? post.publishedAt|date('M d, Y') : 'Unpublished' }}
					</time>
					{% if post.author %}
						<span class="text-zinc-400">•</span>
						<span class="font-medium text-zinc-800">{{ post.author.name }}</span>
					{% endif %}
				</div>
				<span class="inline-flex items-center px-2.5 py-0.5 rounded-full border border-zinc-200 bg-zinc-50 text-zinc-600 text-xs font-medium">
					⏱ ~5 min read
				</span>
			</div>
		</div>
	</header>
{% endblock %}

{% block body %}
	<main class="max-w-4xl mx-auto px-6 md:px-10 lg:px-0 pb-16 bg-white">

		{% if post.imagePath %}
			<!-- Stylish Hero image (smaller and elegant) -->
			<figure class="mb-12">
				<div class="relative overflow-hidden rounded-2xl border border-zinc-200 bg-zinc-50 shadow-sm hover:shadow-md transition-all duration-500 hover:-translate-y-0.5">
					<img src="{{ post.imagePath }}" alt="{{ post.title }}" class="w-full aspect-[21/9] object-cover scale-[1.01] group-hover:scale-105 transition-transform duration-500 ease-out rounded-2xl" loading="lazy">
					<div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent pointer-events-none"></div>
				</div>
			</figure>
		{% endif %}

		<!-- Post content -->
		<article class="prose prose-zinc max-w-none
								    prose-headings:text-zinc-900 prose-headings:font-bold
								    prose-h2:text-2xl prose-h2:tracking-tight
								    prose-h3:text-xl
								    prose-p:text-[15px] prose-p:leading-relaxed prose-p:text-zinc-700
								    prose-a:text-blue-600 hover:prose-a:text-blue-700
								    prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded-md prose-code:font-medium prose-code:bg-zinc-100 prose-code:text-zinc-800
								    prose-pre:bg-zinc-950 prose-pre:text-zinc-100
								    prose-hr:border-zinc-200
								    prose-blockquote:border-l-blue-500 prose-blockquote:text-zinc-700
								    prose-li:marker:text-zinc-400
								    prose-img:rounded-xl">
			{{ post.content|raw }}
		</article>

		<!-- Divider -->
		<div class="h-px bg-gradient-to-r from-transparent via-zinc-300/50 to-transparent my-12"></div>

		<a href="{{path('blog_delete', {id:post.id})}}
			
		"class ="inline-flex items-centre px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-800">
				Delete post
		</a>
		<!-- Footer -->
		<footer class="flex items-center justify-between flex-wrap gap-4 text-sm">
			<a href="{{ path('blog_index') }}" class="inline-flex items-center font-medium text-blue-600 hover:text-blue-700 hover:underline">
				← Back to all posts
			</a>
			<span class="text-xs text-zinc-400 font-mono truncate" title="{{ post.slug }}">
				{{ post.slug }}
			</span>
		</footer>
	</main>
{% endblock %}

